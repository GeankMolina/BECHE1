:root {
  --primary-bg: #b7e778;
  --scene-bg: #c6f1a7;
  --border-color: #222;
  --message-bg: #fff;
  --geank-body: #3b83bd;
  --ivet-body: #e1a4c6;
  --ivet-toga: #222;
  --ivet-birrete: #222;
  --ivet-tie: #e53935;
  --skin: #eac086;
  --legs: #444;
  --font: 'Segoe UI', Arial, sans-serif;
}

body {
  margin: 0;
  min-height: 100vh;
  background: var(--primary-bg);
  font-family: var(--font);
  display: flex;
  justify-content: center;
  align-items: center;
}

main {
  width: 100vw;
  min-height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
}

.scene {
  position: relative;
  width: 90vw;
  max-width: 800px;
  height: 500px;
  background: linear-gradient(to top, #b7e778 60%, #aee1f9 100%);
  border: 4px solid var(--border-color);
  box-shadow: 0 0 0 8px #8bc34a;
  display: flex;
  justify-content: space-around;
  align-items: flex-end;
  padding: 20px;
  overflow: hidden;
}

/* Césped */
.scene::before {
  content: "";
  position: absolute;
  left: 0; right: 0; bottom: 0;
  height: 120px;
  background: linear-gradient(to top, #7ec850 80%, transparent 100%);
  z-index: 0;
}

/* Camino */
.path {
  position: absolute;
  left: 40%;
  bottom: 0;
  width: 120px;
  height: 100px;
  background: #e0c68d;
  border-radius: 60px 60px 80px 80px/100px 100px 20px 20px;
  z-index: 1;
  box-shadow: 0 8px 24px #b7a16b44;
}

/* Árboles */
.tree {
  position: absolute;
  bottom: 110px; /* Ajusta para que el pie del tronco esté al nivel de los pies de los personajes */
  width: 140px;
  height: 260px;
  z-index: 2;
}
.tree .trunk {
  position: absolute;
  left: 62px;
  bottom: 0;
  width: 18px;
  height: 110px;
  background: #8d6748;
  border-radius: 7px;
  box-shadow: 0 0 0 3px #6d4c2e;
}
.tree .leaves {
  position: absolute;
  left: 0;
  bottom: 90px;
  width: 140px;
  height: 140px;
}
.tree .leaves .leaf {
  position: absolute;
  border-radius: 50%;
  background: #4caf50;
  box-shadow: 0 0 12px #388e3c88;
}
.tree .leaves .leaf1 { width: 110px; height: 110px; left: 15px; top: 0px; }
.tree .leaves .leaf2 { width: 80px; height: 80px; left: 0px; top: 60px; }
.tree .leaves .leaf3 { width: 80px; height: 80px; left: 60px; top: 60px; }
.tree .leaves .leaf4 { width: 60px; height: 60px; left: 40px; top: 100px; }

/* Universidad */
/* .university {
  position: absolute;
  right: 60px;
  top: 30px;
  width: 120px;
  height: 60px;
  background: #fff;
  border: 4px solid #888;
  border-radius: 8px 8px 12px 12px;
  z-index: 1;
  box-shadow: 0 8px 24px #8884;
}
.university::before {
  content: "";
  position: absolute;
  left: 18px;
  top: -16px;
  width: 54px;
  height: 16px;
  background: #1976d2;
  border-radius: 8px 8px 0 0;
  border: 2px solid #888;
}
.university-door {
  position: absolute;
  left: 37px;
  bottom: 0;
  width: 16px;
  height: 18px;
  background: #bdb76b;
  border: 2px solid #888;
  border-radius: 2px 2px 6px 6px;
}
.university-sign {
  position: absolute;
  left: 8px;
  top: 6px;
  width: 74px;
  height: 14px;
  background: #1976d2;
  color: #fff;
  font-family: 'Courier New', Courier, monospace;
  font-size: 0.8rem;
  text-align: center;
  line-height: 14px;
  border-radius: 4px;
  letter-spacing: 2px;
} */

.character {
  display: flex;
  flex-direction: column;
  align-items: center;
  position: absolute;
  bottom: 80px;
  min-width: 80px;
  z-index: 10;
}

.geank { left: 50px; }
.ivet { right: 50px; }

.head {
  width: 60px;
  height: 60px;
  background: var(--skin);
  border: 4px solid var(--border-color);
  position: relative;
  z-index: 1;
  box-shadow: 0 0 0 4px #fff;
}

.head.glasses::before,
.head.glasses::after {
  content: "";
  position: absolute;
  top: 20px;
  width: 20px;
  height: 20px;
  border: 4px solid #222;
  background: #b3e5fc;
}
.head.glasses::before { left: 4px; }
.head.glasses::after { right: 4px; }

.body {
  width: 60px;
  height: 60px;
  background: var(--geank-body);
  border: 4px solid var(--border-color);
  margin-top: 0;
  position: relative;
  display: flex;
  justify-content: center;
  align-items: flex-start;
}

.secretary {
  background: var(--ivet-body);
  position: relative;
}

.toga {
  position: absolute;
  left: 8px;
  top: 36px;
  width: 44px;
  height: 22px;
  background: var(--ivet-toga);
  border: 2px solid #111;
  z-index: 2;
}

.tie {
  position: absolute;
  left: 28px;
  top: 18px;
  width: 4px;
  height: 18px;
  background: var(--ivet-tie);
  border-radius: 1px;
  z-index: 3;
}

.birrete {
  position: absolute;
  left: 10px;
  top: -18px;
  width: 40px;
  height: 20px;
  z-index: 4;
}
.birrete .cap {
  width: 40px;
  height: 10px;
  background: var(--ivet-birrete);
  border: 2px solid #111;
  position: absolute;
  top: 0;
  left: 0;
}
.birrete .tassel {
  width: 2px;
  height: 14px;
  background: gold;
  position: absolute;
  left: 20px;
  top: 10px;
}

.arm {
  position: absolute;
  width: 32px;
  height: 14px;
  background: var(--skin);
  border: 4px solid var(--border-color);
  top: 18px;
  z-index: 2;
}
.arm-left {
  left: -36px;
  transform: rotate(20deg);
}
.arm-right {
  right: -36px;
  transform: rotate(-20deg);
}
.arm-bouquet {
  left: 100%;
  transform: rotate(-10deg);
  display: flex;
  align-items: center;
  justify-content: flex-end;
}

/* Ramo de flores pixel-art */
/* ...existing code... */

.bouquet {
  position: relative;
  width: 48px;
  height: 70px;
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-left: 2px;
}

.flower {
  position: absolute;
  border-radius: 50%;
  border: 2px solid #555;
  z-index: 2;
  box-shadow: 0 0 2px #333;
  display: flex;
  align-items: center;
  justify-content: center;
}
.flower-red    { background: #e53935; width: 18px; height: 18px; left: 10px;  top: 0px; }
.flower-yellow { background: #ffe082; width: 16px; height: 16px; left: 22px;  top: 8px; }
.flower-pink   { background: #f48fb1; width: 14px; height: 14px; left: 0px;   top: 18px; }
.flower-blue   { background: #64b5f6; width: 13px; height: 13px; left: 28px;  top: 22px; }
.flower-orange { background: #ffb74d; width: 12px; height: 12px; left: 12px;  top: 28px; }
.flower-white  { background: #fff;     width: 13px; height: 13px; left: 20px;  top: 38px; border: 2px solid #bbb; }
.flower-purple { background: #b39ddb;  width: 11px; height: 11px; left: 5px;   top: 40px; }

.flower .center {
  width: 6px;
  height: 6px;
  background: #ffeb3b;
  border-radius: 50%;
  border: 1px solid #888;
  margin: auto;
}
.flower-red .center    { background: #fff176; }
.flower-yellow .center { background: #fbc02d; }
.flower-pink .center   { background: #fff; }
.flower-blue .center   { background: #fffde7; }
.flower-orange .center { background: #fffde7; }
.flower-white .center  { background: #fbc02d; }
.flower-purple .center { background: #fffde7; }

.leaf {
  position: absolute;
  width: 14px;
  height: 8px;
  background: #388e3c;
  border-radius: 0 0 12px 12px;
  z-index: 1;
  border: 1px solid #27632a;
  transform: rotate(-20deg);
}
.leaf1 { left: -10px; top: 24px; transform: rotate(-30deg);}
.leaf2 { left: 32px; top: 18px; transform: rotate(20deg);}
.leaf3 { left: 18px; top: 50px; transform: rotate(10deg);}

.bouquet-stems {
  position: absolute;
  left: 50%;
  top: 20px;
  width: 16px;
  height: 48px;
  transform: translateX(-50%);
  z-index: 0;
}
.bouquet-stems::before,
.bouquet-stems::after {
  content: "";
  position: absolute;
  width: 3px;
  height: 48px;
  background: #388e3c;
  border-radius: 2px;
}
.bouquet-stems::before { left: 2px; top: 0; }
.bouquet-stems::after  { left: 10px; top: 0; }

/* ...resto igual... */

/* GLOBOS DE PENSAMIENTO */
.thought-balloon {
  position: absolute;
  min-width: 120px;
  max-width: 200px;
  background: var(--message-bg);
  border: 3px solid #222;
  border-radius: 40px;
  padding: 10px 16px;
  font-size: 1rem;
  text-align: center;
  font-family: 'Courier New', Courier, monospace;
  opacity: 0;
  pointer-events: none;
  transition: opacity 1.2s cubic-bezier(.4,2,.6,1);
  z-index: 20;
  box-shadow: 2px 2px 0 #c6f1a7, 4px 4px 0 #8bc34a;
  line-height: 1.2;
}
.main-message-1 {
  top: -90px;
  left: 140px;
}
.main-message-2 {
  top: -10px;
  left: 140px;
}
.ivet-message-1 {
  top: -90px;
  right: 140px;
  background: #fffbe7;
  border-color: #e1a4c6;
  color: #b71c1c;
}
.ivet-message-2 {
  top: -10px;
  right: 140px;
  background: #fffbe7;
  border-color: #e1a4c6;
  color: #b71c1c;
}

.thought-balloon.visible {
  opacity: 1;
  pointer-events: auto;
}

.thought-balloon::after {
  content: "";
  position: absolute;
  width: 18px;
  height: 18px;
  background: var(--message-bg);
  border: 3px solid #222;
  border-radius: 50%;
  z-index: 10;
}
.main-message-1::after,
.main-message-2::after {
  left: -18px;
  top: 30px;
}
.ivet-message-1::after,
.ivet-message-2::after {
  right: -18px;
  top: 30px;
  background: #fffbe7;
  border-color: #e1a4c6;
}

.thought-balloon::before {
  content: "";
  position: absolute;
  width: 10px;
  height: 10px;
  background: var(--message-bg);
  border: 3px solid #222;
  border-radius: 50%;
  z-index: 9;
}
.main-message-1::before,
.main-message-2::before {
  left: -28px;
  top: 40px;
}
.ivet-message-1::before,
.ivet-message-2::before {
  right: -28px;
  top: 40px;
  background: #fffbe7;
  border-color: #e1a4c6;
}

.controls {
  position: absolute;
  top: 20px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 30;
  display: flex;
  gap: 10px;
}

.controls button {
  padding: 8px 18px;
  font-size: 1rem;
  border-radius: 0;
  border: 3px solid #333;
  background: #fff;
  cursor: pointer;
  font-family: 'Courier New', Courier, monospace;
  transition: background 0.2s;
}
.controls button:hover {
  background: #e0e0e0;
}

@keyframes walk-leg {
  0%   { transform: rotate(10deg); }
  25%  { transform: rotate(-20deg); }
  50%  { transform: rotate(10deg); }
  75%  { transform: rotate(30deg); }
  100% { transform: rotate(10deg); }
}
@keyframes walk-foot {
  0%   { transform: translateY(0); }
  25%  { transform: translateY(4px); }
  50%  { transform: translateY(0); }
  75%  { transform: translateY(-4px); }
  100% { transform: translateY(0); }
}

.legs.walking {
  animation: walk-leg 0.7s infinite linear;
}
.feet.walking {
  animation: walk-foot 0.7s infinite linear;
}

.feet {
  display: inline-block;
  width: 20px;
  height: 10px;
  background: #222;
  border: 3px solid #000;
  border-radius: 0 0 8px 8px;
  margin: 0 4px;
  position: relative;
  top: -8px;
  z-index: 3;
}

.legs.walking:nth-of-type(1) {
  animation-delay: 0s;
}
.legs.walking:nth-of-type(2) {
  animation-delay: 0.35s;
}
.feet.walking:nth-of-type(1) {
  animation-delay: 0s;
}
.feet.walking:nth-of-type(2) {
  animation-delay: 0.35s;
}

/* Solo Ivet festeja saltando */
@keyframes jump-leg {
  0%, 100% { transform: rotate(10deg) translateY(0); }
  20% { transform: rotate(-20deg) translateY(-8px);}
  50% { transform: rotate(10deg) translateY(0);}
  70% { transform: rotate(30deg) translateY(-8px);}
}
@keyframes jump-foot {
  0%, 100% { transform: translateY(0); }
  20% { transform: translateY(-8px);}
  50% { transform: translateY(0); }
  70% { transform: translateY(-8px);}
}
.ivet .legs.walking {
  animation: jump-leg 0.7s infinite linear;
}
.ivet .feet.walking {
  animation: jump-foot 0.7s infinite linear;
}

/* Sonrisa pixel-art */
.smile {
  position: absolute;
  left: 18px;
  bottom: 12px;
  width: 24px;
  height: 10px;
  border-bottom: 3px solid #b71c1c;
  border-radius: 0 0 20px 20px;
}

/* Animación de brazos alegres */
@keyframes happy-arm-left {
  0%, 100% { transform: rotate(20deg); }
  50% { transform: rotate(-10deg) scaleY(1.1); }
}
@keyframes happy-arm-right {
  0%, 100% { transform: rotate(-20deg); }
  50% { transform: rotate(10deg) scaleY(1.1); }
}
.ivet .arm-left.happy {
  animation: happy-arm-left 0.7s infinite linear;
}
.ivet .arm-right.happy {
  animation: happy-arm-right 0.7s infinite linear;
}

@media (max-width: 600px) {
  .scene {
    height: 340px;
    padding: 10px;
  }
  .character {
    min-width: 40px;
  }
  .head, .body, .legs {
    width: 32px;
    height: 32px;
  }
  .body, .secretary {
    height: 32px;
  }
  .legs {
    height: 24px;
  }
  .bouquet {
    width: 24px;
    height: 36px;
  }
  .flower {
    width: 10px;
    height: 10px;
  }
  .thought-balloon {
    min-width: 80px;
    max-width: 120px;
    font-size: 0.8rem;
    padding: 6px 8px;
  }
  .main-message-1,
  .main-message-2 {
    left: 60px;
  }
  .ivet-message-1,
  .ivet-message-2 {
    right: 60px;
  }
}